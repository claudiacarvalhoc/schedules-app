(this["webpackJsonpschedule-app"]=this["webpackJsonpschedule-app"]||[]).push([[0],{104:function(e,t,c){"use strict";c.r(t);var n,a,s,r=c(0),i=c.n(r),l=c(18),u=c.n(l),o=(c(75),c(19)),d=c(53),h=c(5);!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Failure=2]="Failure"}(n||(n={})),function(e){e[e.Once=0]="Once",e[e.Year=1]="Year",e[e.Week=2]="Week",e[e.Hour=3]="Hour",e[e.Minute=4]="Minute",e[e.Second=5]="Second"}(a||(a={})),function(e){e[e.Terminated=0]="Terminated",e[e.Pending=1]="Pending",e[e.Completed=2]="Completed",e[e.Exception=3]="Exception",e[e.Running=4]="Running"}(s||(s={}));var j={status:{schedules:n.Loading,scheduleLogs:n.Loading},selectedScheduleId:void 0,schedules:[],visibleScheduleIds:[],scheduleLogs:[],texts:{header:{titleText:"Schedules"},schedules:{buttonRetireText:"Retire",buttonUnretireText:"Unretire",errorMessageText:"Something went wrong ...",buttonRetryText:"Retry",emptyMessageText:"No schedules available."},scheduleLogs:{errorMessageText:"Something went wrong ...",buttonRetryText:"Retry",emptyMessageText:"No schedules logs available.",noSelectedScheduleText:"Please select a schedule."},log:{labelStartTime:"Start",labelEndTime:"End"}}},b=[{letter:"N",color:"orange"},{letter:"A",color:"purple"},{letter:"T",color:"orange"},{letter:"J",color:"purple"}],p="LOADING_SCHEDULES_STATUS",_="LOADING_SCHEDULELOGS_STATUS",O="FETCH_SCHEDULE_SUCCESS",m="FETCH_SCHEDULE_FAILURE",f="FETCH_SCHEDULE_LOGS_SUCCESS",x="FETCH_SCHEDULE_LOGS_FAILURE",g="REQUEST_RETIRE_SCHEDULE",v="REQUEST_UNRETIRE_SCHEDULE",S="UPDATE_SELECTED_SCHEDULE",E="RESET_SELECTED_SCHEDULE",y="SEARCH_SCHEDULE",T=c(27),L=c.n(T),N=Object(o.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(h.a)(Object(h.a)({},e),{},{schedules:[],visibleScheduleIds:[],selectedScheduleId:void 0,status:Object(h.a)(Object(h.a)({},e.status),{},{schedules:n.Loading})});case _:return Object(h.a)(Object(h.a)({},e),{},{scheduleLogs:[],selectedScheduleId:void 0,status:Object(h.a)(Object(h.a)({},e.status),{},{scheduleLogs:n.Loading})});case O:return Object(h.a)(Object(h.a)({},e),{},{schedules:t.schedules,visibleScheduleIds:t.schedules.map((function(e){return e.id})),status:Object(h.a)(Object(h.a)({},e.status),{},{schedules:n.Success})});case m:return Object(h.a)(Object(h.a)({},e),{},{schedules:[],visibleScheduleIds:[],selectedScheduleId:void 0,status:Object(h.a)(Object(h.a)({},e.status),{},{schedules:n.Failure})});case f:return Object(h.a)(Object(h.a)({},e),{},{scheduleLogs:t.scheduleLogs,status:Object(h.a)(Object(h.a)({},e.status),{},{scheduleLogs:n.Success})});case x:return Object(h.a)(Object(h.a)({},e),{},{scheduleLogs:[],status:Object(h.a)(Object(h.a)({},e.status),{},{scheduleLogs:n.Failure})});case g:var c=L.a.cloneDeep(e.schedules),a=c.findIndex((function(e){return e.id===t.scheduleId}));return c[a].isRetired=!0,Object(h.a)(Object(h.a)({},e),{},{schedules:c});case v:var s=L.a.cloneDeep(e.schedules),r=s.findIndex((function(e){return e.id===t.scheduleId}));return s[r].isRetired=!1,Object(h.a)(Object(h.a)({},e),{},{schedules:s});case S:return Object(h.a)(Object(h.a)({},e),{},{selectedScheduleId:t.scheduleId});case E:return Object(h.a)(Object(h.a)({},e),{},{selectedScheduleId:void 0});case y:var i=e.schedules.filter((function(e){return e.name.includes(t.criteria)})).map((function(e){return e.id}));return Object(h.a)(Object(h.a)({},e),{},{visibleScheduleIds:i});default:return Object(h.a)({},e)}}}),C=c(55),I=function(e){var t=Object(d.createLogger)(),c=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,n=[C.a,t];return Object(o.e)(N,{app:e},c(o.a.apply(void 0,n)))},R=c(11),U=c(35),D=c.n(U),M=c(41),k=c.n(M),F="https://myschedules-api.herokuapp.com",A={schedules:"/schedules",scheduleLogs:"/scheduleLogs"},H=function(){return function(e){return e({type:p}),k.a.get("".concat(F).concat(A.schedules)).then((function(t){var c=t.data;Array.isArray(c)&&c.forEach((function(e){var t=Math.floor(Math.random()*b.length);e.avatar=b[t]})),e({type:O,schedules:c})})).catch((function(t){e({type:m})}))}},w=function(){return function(e){return e({type:_}),k.a.get("".concat(F).concat(A.scheduleLogs)).then((function(t){var c=t.data;e({type:f,scheduleLogs:c})})).catch((function(t){e({type:x})}))}},B=function(e){return e.app.status.schedules},P=function(e){return e.app.status.scheduleLogs},G=function(e){var t=e.app.visibleScheduleIds,c=L.a.filter(e.app.schedules,(function(e){return t.includes(e.id)}));return null!==c&&void 0!==c?c:[]},J=function(e){return e.app.selectedScheduleId},Y=function(e){return e.app.texts.header},X=function(e){return e.app.texts.schedules},z=function(e){return e.app.texts.scheduleLogs},q=function(e){return e.app.texts.log},Q=c(20),W=c(126),Z=c(129),V=c(127),K=c(128),$=c(22),ee=c.n($),te=c(134),ce=c(42),ne=c.n(ce),ae=c(34),se=c.n(ae),re=c(1),ie=function(e){var t,c=e.letter,n=e.color;return Object(re.jsx)(te.a,{className:se()((t={},Object(Q.a)(t,ne.a.orange,"orange"===n),Object(Q.a)(t,ne.a.purple,"purple"===n),t)),children:c})},le=c(125),ue=function(e){var t=e.size,c=void 0===t?"small":t,n=e.variant,a=void 0===n?"outlined":n,s=e.type,r=void 0===s?"secondary":s,i=e.onClick,l=e.text;return Object(re.jsx)(le.a,{size:c,variant:a,color:r,onClick:function(e){return i(e)},children:l})},oe=Object(R.b)((function(e){return{texts:X(e)}}),(function(e){return{updateSelectedId:function(t){return e({type:S,scheduleId:t})},retire:function(t){return e({type:g,scheduleId:t})},unretire:function(t){return e({type:v,scheduleId:t})}}}))((function(e){var t=e.schedule,c=e.isSelected,n=e.texts,a=e.updateSelectedId,s=e.retire,r=e.unretire;return Object(re.jsx)("div",{className:ee.a.container,children:Object(re.jsxs)(W.a,{"data-test":"card_".concat(t.id),onClick:function(){return a(t.id)},variant:"outlined",className:se()(Object(Q.a)({},ee.a.active,c)),children:[Object(re.jsxs)(V.a,{className:ee.a.content,children:[Object(re.jsxs)("div",{className:ee.a.header,children:[Object(re.jsx)(ie,{letter:t.avatar.letter,color:t.avatar.color}),Object(re.jsx)(K.a,{className:ee.a.title,color:"textSecondary",gutterBottom:!0,children:t.name})]}),Object(re.jsx)(K.a,{variant:"body2",component:"p",children:t.description})]}),Object(re.jsx)(Z.a,{className:ee.a.action,children:Object(re.jsx)(ue,{"data-test":"action_".concat(t.id,"_retire"),text:t.isRetired?n.buttonUnretireText:n.buttonRetireText,type:t.isRetired?"primary":"secondary",onClick:function(e){return function(e){t.isRetired?r(t.id):s(t.id),e.stopPropagation()}(e)}})})]})})})),de=c(30),he=c.n(de),je=Object(R.b)((function(e){return{status:B(e),schedules:G(e),texts:X(e),selectedScheduleId:J(e)}}),(function(e){return{fetchSchedules:function(){return e(H())}}}))((function(e){var t=e.status,c=e.texts,a=e.schedules,s=e.selectedScheduleId,r=e.fetchSchedules,i=t===n.Success,l=t===n.Failure,u=Array.isArray(a)&&a.length>0;return Object(re.jsxs)("div",{className:he.a.container,children:[l&&Object(re.jsxs)("div",{className:he.a.info,children:[Object(re.jsx)("p",{children:c.errorMessageText}),Object(re.jsx)(le.a,{onClick:function(){return r()},variant:"contained",color:"primary",disableElevation:!0,children:c.buttonRetryText})]}),i&&!u&&Object(re.jsx)("div",{className:he.a.info,children:Object(re.jsx)("p",{children:c.emptyMessageText})}),Object(re.jsx)("div",{className:he.a.items,children:i&&u&&a.map((function(e){var t=e.id===s;return Object(re.jsx)(oe,{schedule:e,isSelected:t},e.id)}))})]})})),be=c(133),pe=c(24),_e=c.n(pe),Oe=c(56),me=c.n(Oe),fe=function(e){var t=e.label,c=e.time;return Object(re.jsxs)("div",{children:[Object(re.jsx)(K.a,{className:me.a.label,variant:"overline",gutterBottom:!0,children:t}),Object(re.jsx)("div",{children:Object(re.jsx)(be.a,{size:"small",label:c})})]})},xe=c(43),ge=c.n(xe),ve="MMMM D YYYY",Se=Object(R.b)((function(e){return{texts:q(e)}}))((function(e){var t=e.item,c=e.texts,n=ge()(t.startTime.toString()).format(ve),a=ge()(t.endTime.toString()).format(ve);return Object(re.jsx)(W.a,{className:_e.a.logs,variant:"outlined",children:Object(re.jsxs)(V.a,{className:_e.a.content,children:[Object(re.jsxs)("div",{className:_e.a.header,children:[Object(re.jsx)(K.a,{className:_e.a.title,noWrap:!0,color:"primary",gutterBottom:!0,children:t.serverName}),Object(re.jsx)(be.a,{size:"small",label:t.status})]}),Object(re.jsxs)("div",{className:_e.a.times,children:[Object(re.jsx)(fe,{label:c.labelStartTime,time:n}),Object(re.jsx)(fe,{label:c.labelEndTime,time:a})]})]})})})),Ee=c(15),ye=c.n(Ee),Te=Object(R.b)((function(e){var t=J(e),c=G(e),n=function(e){return e.app.scheduleLogs}(e);return{isSelected:!!t,scheduleName:!!t&&!!c&&c.find((function(e){return e.id===t})).name,status:P(e),logs:!!t&&!!n&&n.filter((function(e){return e.scheduleId===t})),texts:z(e)}}),(function(e){return{fetchScheduleLogs:function(){return e(w())},resetSelectedSchedule:function(){return e({type:E})}}}))((function(e){var t=e.isSelected,c=e.scheduleName,a=e.status,s=e.logs,r=e.texts,i=e.fetchScheduleLogs,l=e.resetSelectedSchedule,u=a===n.Success,o=a===n.Failure,d=Array.isArray(s)&&s.length>0;return Object(re.jsxs)(re.Fragment,{children:[!t&&Object(re.jsx)("div",{className:ye.a.noinfo,children:Object(re.jsx)("p",{children:r.noSelectedScheduleText})}),t&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:ye.a.overlay,onClick:function(){return l()}}),Object(re.jsx)("div",{className:ye.a.schedulelogs,children:Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(K.a,{className:ye.a.modalTitle,variant:"h6",children:c}),o&&Object(re.jsxs)("div",{className:ye.a.failure,children:[Object(re.jsx)(K.a,{className:ye.a.failureTitle,variant:"body2",component:"p",children:r.errorMessageText}),Object(re.jsx)(le.a,{className:ye.a.retryButton,onClick:function(){return i()},variant:"contained",color:"primary",disableElevation:!0,children:r.buttonRetryText})]}),u&&!d&&Object(re.jsx)("div",{className:ye.a.emptySuccess,children:Object(re.jsx)("p",{children:r.emptyMessageText})}),u&&d&&Object(re.jsx)("div",{className:ye.a.items,children:s.map((function(e){return Object(re.jsx)(Se,{item:e},e.id)}))})]})})]})]})})),Le=c(57),Ne=c(58),Ce=c(29),Ie=c(62),Re=c(61),Ue=c(25),De=c.n(Ue),Me=c(130),ke=c(131),Fe=c(132),Ae=c(59),He=c.n(Ae),we=function(e){Object(Ie.a)(c,e);var t=Object(Re.a)(c);function c(e){var n;return Object(Le.a)(this,c),(n=t.call(this,e)).handleOnChange=function(e){n.setState(Object(h.a)(Object(h.a)({},n.state),{},{search:e.target.value}))},n.handleSearch=function(e){switch(e.keyCode){case 13:(0,n.props.search)(n.state.search)}},n.state={search:""},n.handleOnChange.bind(Object(Ce.a)(n)),n.handleSearch.bind(Object(Ce.a)(n)),n}return Object(Ne.a)(c,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleSearch)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleSearch)}},{key:"render",value:function(){var e=this.props.title;return Object(re.jsx)("div",{className:De.a.container,children:Object(re.jsx)(Me.a,{position:"static",children:Object(re.jsxs)(ke.a,{className:De.a.bar,children:[Object(re.jsx)(K.a,{variant:"h6",children:e}),Object(re.jsx)("div",{className:De.a.search,children:Object(re.jsx)(Fe.a,{placeholder:"Search\u2026",classes:{root:De.a.inputRoot,input:De.a.inputInput},inputProps:{"aria-label":"search"},onChange:this.handleOnChange})}),Object(re.jsx)(He.a,{})]})})})}}]),c}(r.Component),Be=Object(R.b)((function(e){return{title:Y(e).titleText}}),(function(e){return{search:function(t){return e(function(e){return{type:y,criteria:e}}(t))}}}))(we),Pe=c(60),Ge=c.n(Pe),Je=Object(R.b)((function(e){return{isLoading:B(e)===n.Loading||P(e)===n.Loading}}),(function(e){return{bootApp:function(){e(H()),e(w())}}}))((function(e){var t=e.isLoading,c=e.bootApp;return Object(r.useEffect)((function(){c()}),[c]),Object(re.jsxs)("div",{className:D.a.container,children:[Object(re.jsx)(Be,{}),t&&Object(re.jsx)("div",{className:D.a.loading,children:Object(re.jsx)(Ge.a,{type:"spin",color:"#000000",height:50,width:50})}),!t&&Object(re.jsxs)("div",{className:D.a.content,children:[Object(re.jsx)(je,{}),Object(re.jsx)(Te,{})]})]})})),Ye=I(j);u.a.render(Object(re.jsx)(i.a.StrictMode,{children:Object(re.jsx)(R.a,{store:Ye,children:Object(re.jsx)(Je,{})})}),document.getElementById("root"))},15:function(e,t,c){e.exports={items:"schedulelogs_items__Ztm2J",overlay:"schedulelogs_overlay__21pnf",modalTitle:"schedulelogs_modalTitle__1BBAU",noinfo:"schedulelogs_noinfo__3e9X-",schedulelogs:"schedulelogs_schedulelogs__3Jk_L",modal:"schedulelogs_modal__3dBTM",failure:"schedulelogs_failure__2qEdo",failureTitle:"schedulelogs_failureTitle__3qJyG",retryButton:"schedulelogs_retryButton__3MJTR"}},22:function(e,t,c){e.exports={container:"scheduleitem_container__3QC1I",content:"scheduleitem_content__3eDFq",action:"scheduleitem_action__1uegm",active:"scheduleitem_active__3PCub",header:"scheduleitem_header__1u8PB",title:"scheduleitem_title__17wEh"}},24:function(e,t,c){e.exports={logs:"logitem_logs__151Fk",header:"logitem_header__1zTU6",title:"logitem_title__mB9vE",times:"logitem_times__117X6"}},25:function(e,t,c){e.exports={container:"header_container__Qg6Mi",bar:"header_bar__C74v7",title:"header_title__1DXxp",search:"header_search__130F1",searchIcon:"header_searchIcon__1wMu3",inputRoot:"header_inputRoot__1nlBX",inputInput:"header_inputInput__3SkNf"}},30:function(e,t,c){e.exports={container:"schedules_container__1qguG",info:"schedules_info__1Fg60",items:"schedules_items__30sV7"}},35:function(e,t,c){e.exports={container:"app_container__2GidD",content:"app_content__1uD0k",loading:"app_loading__20dLZ"}},42:function(e,t,c){e.exports={orange:"profile_orange__2hFZM",purple:"profile_purple__7YKZk"}},56:function(e,t,c){e.exports={label:"time_label__2vA00"}},75:function(e,t,c){}},[[104,1,2]]]);
//# sourceMappingURL=main.656c2d73.chunk.js.map